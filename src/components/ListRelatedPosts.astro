---
import type { CollectionEntry } from 'astro:content'
import CarrouselPerView from '@/components/CarouselPerView/CarouselPerView'
import { getLangFromUrl, useTranslations } from '@/i18n/utils'
import { Lang } from '@/i18n/ui'

type Props = {
  posts: CollectionEntry<Lang>[]
}

const { posts }: Props = Astro.props

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<section>
  {
    posts.length > 0 ? (
      <section class="flex flex-wrap gap-2">
        <CarrouselPerView posts={posts} />
      </section>
    ) : (
      <p class="text-gray-500">{t('noRelatedPosts')}</p>
    )
  }
</section>
